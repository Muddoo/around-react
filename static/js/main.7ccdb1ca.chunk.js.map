{"version":3,"sources":["images/Vectorlogo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeletePlacePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","draggable","src","logo","alt","createContext","Card","card","onCardClick","onCardDelete","onCardLike","loading","user","useContext","CurrentUserContext","isOwner","_id","owner","isLiked","likes","some","data","link","name","onClick","onLoad","type","aria-label","title","length","hidden","Main","cards","onEditAvatar","onEditProfile","onAddPlace","useState","isLoaded","setIsLoaded","isCardsLoaded","setIsCardsLoaded","isReady","handleCardLoading","avatar","about","map","i","Footer","Input","placeholder","min","max","value","error","onChange","autoComplete","spellCheck","minLength","maxLength","PopupWithForm","isOpen","onClose","submitText","inputs","submit","field","submitButtonState","refButton","action","noValidate","ref","disabled","EditAvatarPopup","fields","setFields","errors","setErrors","useEffect","e","preventDefault","target","textContent","isField","Object","values","every","setButtonState","trim","validationMessage","EditProfilePopup","DeletePlacePopup","activeButton","useRef","current","focus","AddPlacePopup","ImagePopup","baseUrl","options","this","_baseUrl","_options","query","method","body","JSON","stringify","fetch","res","ok","json","Promise","reject","status","statusText","url","headers","authorization","App","currentUser","setCurrentUser","setCards","avatarPopup","setAvatarPopup","profilePopup","setProfilePopup","cardPopup","setCardPopup","deletePopup","setDeletePopup","imagePopup","setImagePopup","selectedCard","setSelectedCard","closeAllPopups","handleOverlayAndCrossClick","classList","contains","all","api","getUser","queryCards","then","initialCards","catch","err","console","log","Provider","newLike","filter","item","newCards","updateProfile","finally","place","index","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ccdb1ca.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.4e8e0a1d.svg\";","function Header(props) {\n    return (\n        <header className=\"header\">\n            <img draggable=\"false\" src={props.logo} alt=\"logo\" className=\"logo\" />\n        </header>\n    )\n}\n\nexport default Header","import {createContext} from 'react'\n\nexport default createContext();","import {useContext} from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\nfunction Card(props) {\n    const {card,onCardClick,onCardDelete,onCardLike,loading} = props;\n\n\n    const user = useContext(CurrentUserContext);\n\n    const isOwner = user._id === card.owner._id;\n    const isLiked = card.likes.some(data => data._id === user._id);\n\n    return (\n        <div className=\"card\">\n            <img \n                src={card.link} \n                draggable=\"false\" \n                alt={card.name} \n                className=\"card__image\" \n                onClick={() => onCardClick(card)}\n                onLoad={loading}\n            />\n            <div className=\"card__details\">\n                <h2 className=\"card__text\">{card.name}</h2>\n                <button \n                    className={`card__icon-heart ${isLiked && 'card__icon-heart_black animate'}`}\n                    type=\"button\" \n                    aria-label=\"heart-button\" \n                    title=\"like\"\n                    onClick={() => onCardLike(card)}\n                />\n                <span className=\"card__likes\">{card.likes.length}</span>\n            </div>\n            <button \n                className=\"card__icon-delete\" \n                type=\"button\" \n                aria-label=\"trash-button\" \n                title=\"delete\"\n                onClick={() => onCardDelete(card)}\n                hidden={!isOwner}\n            />\n        </div>\n    )\n}\n\nexport default Card","import {useState,useContext} from 'react'\nimport Card from './Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n    const {cards,onEditAvatar,onEditProfile,onAddPlace,onCardClick,onCardDelete,onCardLike} = props;\n\n    const user = useContext(CurrentUserContext)\n    const [isLoaded,setIsLoaded] = useState(false)\n    const [isCardsLoaded,setIsCardsLoaded] = useState(0)\n    const isReady =  user && isLoaded && true;\n\n    function handleCardLoading() {\n        setIsCardsLoaded(isCardsLoaded + 1)\n    }\n\n    function showCards() {\n        if(cards.length < 7) return isCardsLoaded === cards.length \n        return isCardsLoaded >= 7\n    }\n\n    return (\n        <main>\n            <section className={`profile ${isReady || 'hidden'}`} >\n                <div className=\"profile__wrapper\" onClick={onEditAvatar}>\n                    <img \n                        src={user?.avatar} \n                        draggable=\"false\"  \n                        alt=\"profile image\" \n                        className=\"profile__image\" \n                        onLoad={() => setIsLoaded(true)}\n                    />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{user?.name}</h1>\n                    <p className=\"profile__text\">{user?.about}</p>\n                    <button \n                        className=\"profile__edit-button\" \n                        aria-label=\"edit-button\" \n                        type=\"button\" \n                        onClick={onEditProfile}\n                    />\n                </div>\n                <button className=\"profile__add-button\" aria-label=\"close-button\" type=\"button\" onClick={onAddPlace} />\n            </section>\n            <section className={`cards ${showCards() || 'hidden'}`}>\n                {cards.map((card, i) => ( \n                    <Card \n                        key={card._id} \n                        card={card} \n                        onCardClick={onCardClick} \n                        onCardDelete={onCardDelete} \n                        onCardLike={onCardLike}\n                        loading={i < 7 ? handleCardLoading : null}\n                    />\n                ))}\n            </section>\n        </main>\n    )\n}\n\nexport default Main","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__text\"> Â© 2020 Around The U.S.</p>\n        </footer>\n    )\n}\n\nexport default Footer","function Input(props) {\n    const {type,placeholder,name,min,max,value,error,onChange} = props\n    return (\n      <>\n        <input \n            type={type} \n            className={`popup__field ${error && 'popup__field_border_red'}`} \n            placeholder={placeholder} \n            name={name} \n            autoComplete=\"off\" \n            spellCheck=\"false\"\n            minLength={min}\n            maxLength={max}\n            value={value}\n            onChange={onChange}\n        />\n        <span className=\"popup__error\">{error}</span>\n      </>\n    )\n}\n\nexport default Input","import Input from './Input'\n\nfunction PopupWithForm(props) {\n    const {name,title,isOpen,onClose,submitText,inputs,submit,field,error,onChange,submitButtonState,refButton} = props;\n    return (\n      <div \n        className={`popup popup_${name} ${isOpen && 'visible'}`} \n        onClick={onClose}\n      >\n          <form action=\"#\" className=\"popup__form\" name={name} noValidate>\n              <button className=\"popup__close\" aria-label=\"close-button\" type=\"button\"></button>\n              <h3 className=\"popup__header\">{title}</h3>\n              {inputs && inputs.map(([type,placeholder,name,min,max],i) => (\n                <Input \n                  key={i} \n                  type={type} \n                  placeholder={placeholder} \n                  name={name}\n                  min={min}\n                  max={max}\n                  value={field[name] || ''}\n                  error={error[name]}\n                  onChange={onChange}\n                />\n              ))}\n              <button \n                  type=\"submit\" \n                  className={`popup__submit active ${submitButtonState && 'inactive'}`} \n                  aria-label=\"submit-button\"\n                  onClick={submit}\n                  ref={refButton}\n                  disabled={submitButtonState}\n              >\n                    {isOpen && submitText}\n              </button>\n          </form>\n      </div>\n    )\n}\n\nexport default PopupWithForm","import { useState, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({avatar: ''});\r\n        setErrors({})\r\n    },[isOpen]);\r\n\r\n    function handleChange(e) {\r\n        setFields({[e.target.name]: e.target.value.trim() && e.target.value});\r\n        setErrors({[e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n    return (\r\n        <PopupWithForm \r\n            title='Change profile picture' \r\n            name='profile-photo' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['url','Image link','avatar']]}\r\n            submit={handleSubmit}\r\n            submitText='Save'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import { useState, useContext, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const user = useContext(CurrentUserContext);\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({\r\n            name: user?.name,\r\n            about: user?.about\r\n        })\r\n    },[user])\r\n\r\n    function handleChange(e) {\r\n      setFields({...fields, [e.target.name]: e.target.value.trim() && e.target.value});\r\n      setErrors({...errors, [e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='Edit profile' \r\n            name='profile-info' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['text','Name','name',2,40],['text','About me','about',2,200]]}\r\n            submit={handleSubmit}\r\n            submitText='Save'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import {useRef, useEffect} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction DeletePlacePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const activeButton = useRef();\r\n\r\n    useEffect(() => isOpen && activeButton.current.focus(),[isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit();\r\n    }\r\n    return (\r\n        <PopupWithForm \r\n            title='Are you sure?' \r\n            name='delete' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitText='Yes'\r\n            submit={handleSubmit}\r\n            refButton={activeButton}\r\n        />\r\n    )\r\n}\r\n\r\nexport default DeletePlacePopup","import { useState, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({\r\n            name: '',\r\n            link: ''\r\n        });\r\n        setErrors({});\r\n    },[isOpen]);\r\n\r\n    function handleChange(e) {\r\n        setFields({...fields, [e.target.name]: e.target.value.trim() && e.target.value});\r\n        setErrors({...errors, [e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='New place' \r\n            name='card' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['text','Title','name',2,30],['url','Image link','link']]}\r\n            submit={handleSubmit}\r\n            submitText='Create'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","function ImagePopup(props) {\n    const {isOpen, card, onClose, onClick} = props;\n\n    return (\n        <figure className={`popup popup_figure ${isOpen ? 'visible' : null}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <img \n                    src={card && card.link} \n                    draggable=\"false\" \n                    alt=\"popup image\" \n                    className=\"popup__image\" \n                    onClick={onClick}\n                />\n                <p className=\"popup__caption\">{card.name}</p>\n                <button className=\"popup__close popup__close_fig\" aria-label=\"close-button\" type=\"button\" title=\"close\"/>\n            </div>\n        </figure>\n    )\n}\n\nexport default ImagePopup","class Api {\n    constructor({baseUrl,options}) {\n        this._baseUrl = baseUrl;\n        this._options = options;\n    }\n\n    async queryCards({query = '',method='GET',body = null}) {\n        this._options = {...this._options,method,body: body && JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/cards/${query}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async getUser() {\n        const res = await fetch(`${this._baseUrl}/users/me`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async updateProfile({avatar = '',method = 'PATCH',body}) {\n        this._options = {...this._options,method,body: JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/users/me/${avatar}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n}\n\nexport default new Api({\n    baseUrl:'https://around.nomoreparties.co/v1/group-7',\n    options: {\n      headers: {\n        authorization: '53ef19e5-74f0-45cf-b7f3-6d5e1b396f52',\n        \"Content-Type\": \"application/json\",\n      }\n    }\n  })","import {useState,useEffect} from 'react'\nimport logo from '../images/Vectorlogo.svg'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport DeletePlacePopup from './DeletePlacePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/api'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n    const [currentUser,setCurrentUser] = useState();\n    const [cards,setCards] = useState([]);\n    const [avatarPopup,setAvatarPopup] = useState(false);\n    const [profilePopup,setProfilePopup] = useState(false);\n    const [cardPopup,setCardPopup] = useState(false);\n    const [deletePopup,setDeletePopup] = useState(false);\n    const [imagePopup,setImagePopup] = useState(false);\n    const [selectedCard,setSelectedCard] = useState({});\n\n    useEffect(() => {\n        Promise.all([api.getUser(),api.queryCards({})])\n               .then(data => {\n                   const [user,initialCards] = data;\n                   setCurrentUser(user)\n                   setCards(initialCards)\n               })\n               .catch(err => console.log(err))\n    },[])\n\n    function handleEditAvatarClick() {\n        setAvatarPopup(true)\n    }\n    function handleEditProfileClick() {\n        setProfilePopup(true)\n    }\n    function handleAddPlaceClick() {\n        setCardPopup(true)\n    }\n    function handleCardClick(card) {\n        setImagePopup(true)\n        setSelectedCard(card)\n    }\n    function handleCardDelete(card) {\n        setDeletePopup(true);\n        setSelectedCard(card);\n    }\n    function handleImagePopupClick() {\n        let index = cards.indexOf(selectedCard) + 1;\n        if(index === cards.length) index = 0; \n        setSelectedCard(cards[index])\n    }\n    function handleUserAvatarUpdate(field) {\n        api.updateProfile({ avatar: 'avatar', body: field })\n            .then(user => setCurrentUser(user))\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleUserInfoUpdate(field) {\n        api.updateProfile({body: field})\n            .then(user => setCurrentUser(user))\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleAddPlaceSubmit(field) {\n        api.queryCards({ method: 'POST', body: field })\n            .then(place => {\n            setCards([place,...cards]);\n            })\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleDeleteCardSubmit() {\n        const newCards = cards.filter(item => item._id !== selectedCard._id);\n            api.queryCards({query: selectedCard._id, method: 'DELETE'})\n               .then(() => setCards(newCards))\n               .catch(err => {\n                  console.log(err);\n                  setCards(cards);\n                })\n               .finally(() => closeAllPopups())\n    }\n    function handleLikeClick(card) {\n        const method = card.likes.some(data => data._id === currentUser._id) ? 'DELETE' : 'PUT';\n        const newLike = method === 'DELETE' ? card.likes.filter(item => item._id !== currentUser._id) : [...card.likes, {_id: currentUser._id}];\n        const newCards = cards.map(item => card._id === item._id ? {...item,likes: newLike} : item);\n        setCards(newCards);\n        api.queryCards({ query: `likes/${card._id}`, method })\n            .catch(err => {\n                console.log(err);\n                setCards(cards)\n            })\n    }\n    function closeAllPopups() {\n            setAvatarPopup(false);\n            setProfilePopup(false);\n            setCardPopup(false);\n            setDeletePopup(false);\n            setImagePopup(false);\n    }\n    function handleOverlayAndCrossClick(e) {\n        if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) closeAllPopups();\n    }\n\n  return (\n    <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n            <Header logo={logo} />\n            <Main \n                cards={cards}\n                onEditAvatar={handleEditAvatarClick}  \n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardDelete={handleCardDelete}\n                onCardLike={handleLikeClick}\n            />\n            <Footer />\n            <EditAvatarPopup \n                isOpen={avatarPopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleUserAvatarUpdate} \n            />\n            <EditProfilePopup \n                isOpen={profilePopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleUserInfoUpdate} \n            />\n            <AddPlacePopup \n                isOpen={cardPopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleAddPlaceSubmit} \n            />\n            <DeletePlacePopup \n                isOpen={deletePopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleDeleteCardSubmit} \n            />\n            <ImagePopup \n                isOpen={imagePopup}\n                card={selectedCard}\n                onClose={handleOverlayAndCrossClick}\n                onClick={handleImagePopupClick}\n            />\n        </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}