{"version":3,"sources":["images/Vectorlogo.svg","components/Header.js","components/Card.js","components/Cards.js","utils/api.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","draggable","src","logo","alt","Card","card","onCardClick","handleReady","onCardDelete","isOwner","isLiked","onCardLike","onImageFailure","data-id","_id","link","onClick","onLoad","onError","name","type","aria-label","title","likes","length","hidden","Cards","cards","useState","isReady","setIsReady","map","i","baseUrl","options","this","_baseUrl","_options","query","method","body","JSON","stringify","fetch","res","ok","json","Promise","reject","status","statusText","url","avatar","headers","authorization","Main","onEditAvatar","onEditProfile","onAddPlace","avatarInfo","profileInfo","newPlace","deletePlace","userId","setUserId","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","originalAvatar","setOriginalAvatar","setCards","isLoaded","setIsLoaded","Liked","setLiked","deleteCard","setDeleteCard","unLoadedImage","setUnloadedImage","some","like","useEffect","all","api","getUser","queryCards","then","data","user","initialCards","about","catch","err","console","log","updateProfile","place","newCards","filter","newLikes","owner","Footer","Input","placeholder","min","max","value","error","handleChange","autoComplete","spellCheck","minLength","maxLength","onChange","e","PopupWithForm","isOpen","onClose","submitText","inputs","submit","form","createRef","fields","setFields","errors","setErrors","buttonText","setButtonText","target","trim","validationMessage","setButtonState","isField","Object","values","every","field","isError","fieldsObj","errorObj","forEach","reset","current","focus","action","noValidate","onSubmit","preventDefault","disabled","ref","ImagePopup","last","setLast","App","avatarPopup","setAvatarPopup","profilePopup","setProfilePopup","cardPopup","setCardPopup","deletePopup","setDeletePopup","setDeletePlace","selectedCard","setSelectedCard","setAvatarInfo","setProfileInfo","setNewPlace","handleOverlayAndCrossClick","classList","contains","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6610f861.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.4e8e0a1d.svg\";","function Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img draggable=\"false\" src={props.logo} alt=\"logo\" className=\"logo\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","function Card(props) {\n    const {card,onCardClick,handleReady,onCardDelete,isOwner,isLiked,onCardLike,onImageFailure} = props;\n    return (\n        <div className=\"card\" data-id={card._id}>\n            <img \n                src={card.link} \n                draggable=\"false\" \n                alt=\"card image\" \n                className=\"card__image\" \n                onClick={() => onCardClick(card)}\n                onLoad={handleReady}\n                onError={() => onImageFailure(card)}\n            />\n            <div className=\"card__details\">\n                <h2 className=\"card__text\">{card.name}</h2>\n                <button \n                    className={`card__icon-heart ${isLiked(card) && 'card__icon-heart_black animate'}`}\n                    type=\"button\" \n                    aria-label=\"heart-button\" \n                    title=\"like\"\n                    onClick={() => onCardLike(card)}\n                />\n                <span className=\"card__likes\">{card.likes.length}</span>\n            </div>\n            <button \n                className=\"card__icon-delete\" \n                type=\"button\" \n                aria-label=\"trash-button\" \n                title=\"delete\"\n                onClick={() => onCardDelete(card)}\n                hidden={!isOwner(card)}\n            />\n        </div>\n    )\n}\n\nexport default Card","import {useState} from 'react'\nimport Card from './Card'\n\nfunction Cards(props) {\n    const {cards,onCardClick,onCardDelete,isOwner,isLiked,onCardLike,onImageFailure} = props;\n    const [isReady,setIsReady] = useState(0);\n\n    function handleReady() {\n        setIsReady(isReady+1);\n    }\n\n    function show() {\n        if(cards.length < 7) return isReady === cards.length\n        return isReady >= 7;\n    }\n\n    return (\n        <section className={`cards ${!show() && 'hidden'}`}>\n            {cards.map((card,i) => ( \n                <Card \n                    key={card._id} \n                    card={card} \n                    onCardClick={onCardClick} \n                    handleReady={i<7 ? handleReady : null} \n                    onCardDelete={onCardDelete} \n                    isOwner={isOwner}\n                    isLiked={isLiked}\n                    onCardLike={onCardLike}\n                    onImageFailure={onImageFailure}\n                />\n            ))}\n        </section>\n    )\n}\n\nexport default Cards","class Api {\n    constructor({baseUrl,options}) {\n        this._baseUrl = baseUrl;\n        this._options = options;\n    }\n\n    async queryCards({query = '',method='GET',body = null}) {\n        this._options = {...this._options,method,body: body && JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/cards/${query}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async getUser() {\n        const res = await fetch(`${this._baseUrl}/users/me`,{...this._options,method: 'GET'});\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async updateProfile({avatar = '',method = 'PATCH',body}) {\n        this._options = {...this._options,method,body: JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/users/me/${avatar}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n}\n\nexport default new Api({\n    baseUrl:'https://around.nomoreparties.co/v1/group-7',\n    options: {\n      headers: {\n        authorization: '53ef19e5-74f0-45cf-b7f3-6d5e1b396f52',\n        \"Content-Type\": \"application/json\",\n      }\n    }\n  })","import {useState,useEffect} from 'react'\nimport Cards from './Cards'\nimport api from '../utils/api'\n\nfunction Main(props) {\n    const {onEditAvatar,\n           onEditProfile,\n           onAddPlace,\n           onCardClick,\n           onCardDelete,\n           avatarInfo,\n           profileInfo,\n           newPlace,\n           deletePlace} = props;\n    const [userId,setUserId] = useState('')\n    const [userName,setUserName] = useState('')\n    const [userDescription,setUserDescription] = useState('')\n    const [userAvatar,setUserAvatar] = useState('')\n    const [originalAvatar,setOriginalAvatar] = useState('')\n    const [cards,setCards] = useState([])\n    const [isLoaded,setIsLoaded] = useState(false)\n    const [Liked,setLiked] = useState(false)\n    const [deleteCard,setDeleteCard] = useState(false)\n    const [unLoadedImage,setUnloadedImage] = useState(false)\n    \n    useEffect(() => {\n        Promise.all([api.getUser(),api.queryCards({})])\n               .then(data => {\n                   const [user,initialCards] = data;\n                   setUserId(user._id);\n                   setUserName(user.name);\n                   setUserDescription(user.about);\n                   setUserAvatar(user.avatar);\n                   setCards(initialCards)\n               })\n               .catch(err => console.log(err))\n    },[])\n\n    useEffect(() => {\n        if(avatarInfo) {\n            const options = {\n                avatar: 'avatar',\n                body: avatarInfo\n            };\n            api.updateProfile(options)\n            .then(({avatar}) => {\n                setUserAvatar(avatar);\n                onEditAvatar();\n            })\n            .catch(err => console.log(err));\n        };\n    },[avatarInfo])\n    useEffect(() => {\n        if(profileInfo) {\n            const options = {body: profileInfo};\n            api.updateProfile(options)\n           .then(user => {\n                setUserName(user.name);\n                setUserDescription(user.about);\n                onEditProfile();\n           })\n           .catch(err => console.log(err));\n        };\n    },[profileInfo])\n    useEffect(() => {\n        if(newPlace) {\n            const options = {\n                method: 'POST',\n                body: newPlace\n            };\n            api.queryCards(options)\n            .then(place => {\n                setCards([place,...cards]);\n                onAddPlace();\n            })\n            .catch(err => console.log(err));\n        };\n    },[newPlace])\n    useEffect(() => {\n        if(deletePlace) {\n            const newCards = cards.filter(card => card._id !== deleteCard._id);\n            setCards(newCards);\n            onCardDelete();\n            const options = {\n            query: deleteCard._id,\n            method: 'DELETE'\n            };\n            api.queryCards(options).catch(err => console.log(err));\n        }\n    },[deletePlace])\n    useEffect(() => {\n        if(unLoadedImage) {\n            const newCards = cards.filter(card => card._id !== unLoadedImage._id);\n            setCards(newCards);\n            const options = {\n                query: unLoadedImage._id,\n                method: 'DELETE'\n              };\n            api.queryCards(options).catch(err => console.log(err));\n        }\n    },[unLoadedImage])\n    useEffect(() => {\n        if(Liked) {\n            const method = isLiked(Liked) ? 'DELETE' : 'PUT';\n            const options = {\n                query: `likes/${Liked._id}`,\n                method\n            }; \n            api.queryCards(options)\n            //    .then(res => {\n            //        const newCards = cards.map(card => card._id === res._id ? res : card);\n            //        setCards(newCards)\n            //    })\n               .catch(err => {\n                   console.log(err);\n                   setCards(cards)\n                })\n            const newCards = cards.map(card => {\n                const newLikes =  method === 'PUT' ? [...Liked.likes,{_id: userId}] : Liked.likes.filter(like => like._id !== userId)\n                if(Liked._id === card._id) return {...card,likes: newLikes}\n                return card\n            });\n            setCards(newCards)    \n        }\n    },[Liked])\n\n\n    function handleCardLike(card) {\n        setLiked(card)\n    }\n\n    function handleCardDelete(card) {\n        onCardDelete();\n        setDeleteCard(card);\n    }\n\n    function handleUnloadedImage(card) {\n        setUnloadedImage(card);\n    }\n\n    function handleLoadedAvatar() {\n        setIsLoaded(true);\n        setOriginalAvatar(userAvatar);\n    }\n\n    function handleUnloadedAvatar() {\n        if(!originalAvatar) return;\n        const options = {\n            avatar: 'avatar',\n            body: {avatar: originalAvatar}\n        };\n        api.updateProfile(options)\n        .then(({avatar}) => {\n            setUserAvatar(avatar);\n        })\n        .catch(err => console.log(err));\n    }\n\n    function profileShow() {\n        return userName && userDescription && userAvatar && isLoaded && true\n    }\n\n    function isOwner(card) {\n        return card.owner._id === userId\n    }\n\n    function isLiked(card) {\n        return card.likes.some(like => like._id === userId)\n    }\n\n    return (\n        <main>\n            <section className={`profile ${profileShow() ? null : 'hidden'}`} >\n                <div className=\"profile__wrapper\" onClick={onEditAvatar}>\n                    <img \n                        src={userAvatar} \n                        draggable=\"false\"  \n                        alt=\"profile image\" \n                        className=\"profile__image\" \n                        onLoad={handleLoadedAvatar}\n                        onError={handleUnloadedAvatar}\n                    />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{userName}</h1>\n                    <p className=\"profile__text\">{userDescription}</p>\n                    <button \n                        className=\"profile__edit-button\" \n                        aria-label=\"edit-button\" \n                        type=\"button\" \n                        onClick={onEditProfile}\n                    />\n                </div>\n                <button className=\"profile__add-button\" aria-label=\"close-button\" type=\"button\" onClick={onAddPlace} />\n            </section>\n            <Cards \n                cards={cards} \n                userId={userId} \n                isOwner={isOwner}\n                isLiked={isLiked}\n                onCardClick={onCardClick} \n                onCardDelete={handleCardDelete}\n                onCardLike={handleCardLike}\n                onImageFailure={handleUnloadedImage}\n            />\n        </main>\n    )\n}\n\nexport default Main","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\"> Â© 2020 Around The U.S.</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","function Input(props) {\r\n    const {type,placeholder,name,min,max,value,error,handleChange} = props\r\n    return (\r\n      <>\r\n        <input \r\n            type={type} \r\n            className= {`popup__field ${error && 'popup__field_border_red'}`}\r\n            placeholder={placeholder} \r\n            name={name} \r\n            autoComplete=\"off\" \r\n            spellCheck=\"false\"\r\n            minLength={min}\r\n            maxLength={max}\r\n            value={value}\r\n            onChange={e => handleChange(e,name)}\r\n        />\r\n        <span className=\"popup__error\">{error}</span>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Input","import {useState,useEffect,createRef} from 'react'\r\nimport Input from './Input'\r\n\r\nfunction PopupWithForm(props) {\r\n    const {name,title,isOpen,onClose,submitText,inputs,submit} = props;\r\n\r\n    const form = createRef();\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n    const [buttonText,setButtonText] = useState(submitText);\r\n\r\n    useEffect(() => {\r\n      if(isOpen) {\r\n        const fieldsObj = {};\r\n        const errorObj = {}\r\n        inputs?.forEach(({name}) => {\r\n          fieldsObj[name] = '';\r\n          errorObj[name] = '';\r\n        })\r\n        setFields(fieldsObj);\r\n        setErrors(errorObj);\r\n        setButtonText(submitText);\r\n        if(!isOpen && inputs) {\r\n          const reset = {}\r\n          inputs.forEach(({name}) => reset[name] = '');\r\n          setFields(reset);\r\n        }\r\n        form.current.focus();\r\n      }\r\n    },[isOpen])\r\n\r\n    function handleChange(e,name) {\r\n      setFields({... fields, [name]: e.target.value.trim() ? e.target.value : ''})\r\n      setErrors({...errors, [name]: e.target.validationMessage})\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      submit(fields);\r\n      setButtonText('Saving...')\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError =  Object.values(errors).some(error => error !== '');\r\n        return !isField || isError;\r\n    }\r\n    \r\n    return (\r\n        <div \r\n          className={`popup popup_${name} ${isOpen && 'visible'}`} \r\n          onClick={onClose}\r\n        >\r\n            <form \r\n              action=\"#\" \r\n              className=\"popup__form\"\r\n              name={name}\r\n              noValidate\r\n              onSubmit={handleSubmit}\r\n            >\r\n                <button className=\"popup__close\" aria-label=\"close-button\" type=\"button\" />\r\n                <h3 className=\"popup__header\">{title}</h3>\r\n                {inputs && inputs.map(({type,placeholder,name,min,max},i) => (\r\n                  <Input \r\n                    key={i} \r\n                    type={type} \r\n                    placeholder={placeholder} \r\n                    name={name}\r\n                    min={min}\r\n                    max={max}\r\n                    value={fields[name] || ''}\r\n                    error={errors[name] || ''}\r\n                    handleChange={handleChange}\r\n                  />\r\n                ))}\r\n                <button \r\n                  type=\"submit\" \r\n                  className={`popup__submit ${setButtonState() && 'inactive'}`}\r\n                  aria-label=\"submit-button\"\r\n                  disabled={setButtonState()}\r\n                  ref={form}\r\n                >\r\n                    {buttonText}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import {useState,useEffect} from 'react'\nfunction ImagePopup(props) {\n    const [last,setLast] = useState('');\n    const {card,onClose} = props;\n    \n    useEffect(() => card ? setLast(card) : null)\n\n    return (\n        <figure className={`popup popup_figure ${card ? 'visible' : null}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <img src={last && last.link} draggable=\"false\" alt=\"popup image\" className=\"popup__image\" />\n                <p className=\"popup__caption\">{last.name}</p>\n                <button className=\"popup__close popup__close_fig\" aria-label=\"close-button\" type=\"button\" title=\"close\"/>\n            </div>\n        </figure>\n    )\n}\n\nexport default ImagePopup","import {useState} from 'react'\nimport logo from '../images/Vectorlogo.svg'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\n\nfunction App() {\n    const [avatarPopup,setAvatarPopup] = useState(false);\n    const [profilePopup,setProfilePopup] = useState(false);\n    const [cardPopup,setCardPopup] = useState(false);\n    const [deletePopup,setDeletePopup] = useState(false);\n    const [deletePlace,setDeletePlace] = useState(false);\n    const [selectedCard,setSelectedCard] = useState(null);\n    const [avatarInfo,setAvatarInfo] = useState(null)\n    const [profileInfo,setProfileInfo] = useState(null)\n    const [newPlace,setNewPlace] = useState(null)\n\n    function handleEditAvatarClick() {\n        setAvatarPopup(!avatarPopup);\n        setAvatarInfo(null)\n    }\n    function submitAvatar(field) {\n        setAvatarInfo(field);\n    }\n    function handleEditProfileClick() {\n        setProfilePopup(!profilePopup)\n        setProfileInfo(null)\n    }\n    function submitProfileInfo(fields) {\n        setProfileInfo(fields);\n    }\n    function handleAddPlaceClick() {\n        setCardPopup(!cardPopup)\n        setNewPlace(null)\n    }\n    function submitNewPlace(fields) {\n        setNewPlace(fields);\n    }\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n    function handleCardDelete() {\n        setDeletePopup(!deletePopup);\n        setDeletePlace(null)\n    }\n    function submitDelete() {\n        setDeletePlace(true)\n    }\n    function closeAllPopups() {\n            setAvatarPopup(false);\n            setProfilePopup(false);\n            setCardPopup(false);\n            setDeletePopup(false);\n            setSelectedCard('');\n    }\n    function handleOverlayAndCrossClick(e) {\n        if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) {\n            closeAllPopups()\n        }\n    }\n\n  return (\n    <div className=\"page\">\n        <Header logo={logo} />\n        <Main \n            onEditAvatar={handleEditAvatarClick}  \n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            avatarInfo={avatarInfo}\n            profileInfo={profileInfo}\n            newPlace={newPlace}\n            deletePlace={deletePlace}\n        />\n        <Footer />\n        <PopupWithForm \n            title='Change profile picture' \n            name='avatar' \n            isOpen={avatarPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'url',placeholder:'Image link',name:'avatar'}]}\n            submitText='Save'\n            submit={submitAvatar}\n        />\n        <PopupWithForm \n            title='Edit profile' \n            name='profile-info' \n            isOpen={profilePopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Name',name:'name',min:2,max:40},{type:'text',placeholder:'About me',name:'about',min:2,max:200}]}\n            submitText='Save'\n            submit={submitProfileInfo}\n        />\n        <PopupWithForm \n            title='New place' \n            name='card' \n            isOpen={cardPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Title',name:'name',min:2,max:30},{type:'url',placeholder:'Image link',name:'link'}]}\n            submitText='Create'\n            submit={submitNewPlace}\n        />\n        <PopupWithForm \n            title='Are you sure?' \n            name='delete' \n            isOpen={deletePopup}\n            onClose={handleOverlayAndCrossClick}\n            submitText='Yes'\n            submit={submitDelete}\n        />\n        <ImagePopup \n            card={selectedCard}\n            onClose={handleOverlayAndCrossClick}\n        />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}