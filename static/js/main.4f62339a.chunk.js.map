{"version":3,"sources":["images/Vectorlogo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeletePlacePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","draggable","src","logo","alt","createContext","Card","card","onCardClick","onCardDelete","onCardLike","loading","onUnLoadedImage","user","useContext","CurrentUserContext","isOwner","_id","owner","isLiked","likes","some","data","link","name","onClick","onLoad","onError","type","aria-label","title","length","hidden","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onUnloadedAvatar","useState","originalAvatar","setOriginalAvatar","isLoaded","setIsLoaded","isCardsLoaded","setIsCardsLoaded","isReady","handleCardLoading","useEffect","avatar","about","map","i","Footer","Input","placeholder","min","max","value","error","onChange","autoComplete","spellCheck","minLength","maxLength","PopupWithForm","isOpen","onClose","submitText","inputs","submit","field","submitButtonState","refButton","action","noValidate","ref","disabled","EditAvatarPopup","fields","setFields","errors","setErrors","e","preventDefault","target","textContent","isField","Object","values","every","setButtonState","trim","validationMessage","EditProfilePopup","DeletePlacePopup","activeButton","useRef","current","focus","AddPlacePopup","ImagePopup","baseUrl","options","this","_baseUrl","_options","query","method","body","JSON","stringify","fetch","res","ok","json","Promise","reject","status","statusText","url","headers","authorization","App","currentUser","setCurrentUser","setCards","avatarPopup","setAvatarPopup","profilePopup","setProfilePopup","cardPopup","setCardPopup","deletePopup","setDeletePopup","imagePopup","setImagePopup","selectedCard","setSelectedCard","handleUserAvatarUpdate","api","updateProfile","then","catch","err","console","log","finally","closeAllPopups","handleDeleteCardSubmit","newCards","filter","item","queryCards","handleOverlayAndCrossClick","classList","contains","all","getUser","initialCards","Provider","newLike","place","index","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f62339a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.4e8e0a1d.svg\";","function Header(props) {\n    return (\n        <header className=\"header\">\n            <img draggable=\"false\" src={props.logo} alt=\"logo\" className=\"logo\" />\n        </header>\n    )\n}\n\nexport default Header","import {createContext} from 'react'\n\nexport default createContext();","import {useContext} from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\nfunction Card(props) {\n    const {card,onCardClick,onCardDelete,onCardLike,loading,onUnLoadedImage} = props;\n\n\n    const user = useContext(CurrentUserContext);\n\n    const isOwner = user._id === card.owner._id;\n    const isLiked = card.likes.some(data => data._id === user._id);\n\n    return (\n        <div className=\"card\">\n            <img \n                src={card.link} \n                draggable=\"false\" \n                alt={card.name} \n                className=\"card__image\" \n                onClick={() => onCardClick(card)}\n                onLoad={loading}\n                onError={() => onUnLoadedImage(card)}\n            />\n            <div className=\"card__details\">\n                <h2 className=\"card__text\">{card.name}</h2>\n                <button \n                    className={`card__icon-heart ${isLiked && 'card__icon-heart_black animate'}`}\n                    type=\"button\" \n                    aria-label=\"heart-button\" \n                    title=\"like\"\n                    onClick={() => onCardLike(card)}\n                />\n                <span className=\"card__likes\">{card.likes.length}</span>\n            </div>\n            <button \n                className=\"card__icon-delete\" \n                type=\"button\" \n                aria-label=\"trash-button\" \n                title=\"delete\"\n                onClick={() => onCardDelete(card)}\n                hidden={!isOwner}\n            />\n        </div>\n    )\n}\n\nexport default Card","import {useState,useContext, useEffect} from 'react'\nimport Card from './Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n    const {cards,onEditAvatar,onEditProfile,onAddPlace,onCardClick,onCardDelete,onCardLike,onUnloadedAvatar,onUnLoadedImage} = props;\n\n    const user = useContext(CurrentUserContext)\n    const [originalAvatar,setOriginalAvatar] = useState()\n    const [isLoaded,setIsLoaded] = useState(false)\n    const [isCardsLoaded,setIsCardsLoaded] = useState(0)\n    const isReady =  user && isLoaded && true\n\n    useEffect(() => {\n        if(isLoaded) return setOriginalAvatar(user.avatar);\n        if(originalAvatar) onUnloadedAvatar({avatar: originalAvatar})\n    },[isLoaded])\n\n    function handleCardLoading() {\n        setIsCardsLoaded(isCardsLoaded + 1)\n    }\n\n    function showCards() {\n        if(cards.length < 7) return isCardsLoaded === cards.length \n        return isCardsLoaded >= 7\n    }\n\n    return (\n        <main>\n            <section className={`profile ${isReady || 'hidden'}`} >\n                <div className=\"profile__wrapper\" onClick={onEditAvatar}>\n                    <img \n                        src={user?.avatar} \n                        draggable=\"false\"  \n                        alt=\"profile image\" \n                        className=\"profile__image\" \n                        onLoad={() => setIsLoaded(true)}\n                        onError={() => setIsLoaded(false)}\n                    />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{user?.name}</h1>\n                    <p className=\"profile__text\">{user?.about}</p>\n                    <button \n                        className=\"profile__edit-button\" \n                        aria-label=\"edit-button\" \n                        type=\"button\" \n                        onClick={onEditProfile}\n                    />\n                </div>\n                <button className=\"profile__add-button\" aria-label=\"close-button\" type=\"button\" onClick={onAddPlace} />\n            </section>\n            <section className={`cards ${showCards() || 'hidden'}`}>\n                {cards.map((card, i) => ( \n                    <Card \n                        key={card._id} \n                        card={card} \n                        onCardClick={onCardClick} \n                        onCardDelete={onCardDelete} \n                        onCardLike={onCardLike}\n                        loading={i < 7 ? handleCardLoading : null}\n                        onUnLoadedImage={onUnLoadedImage}\n                    />\n                ))}\n            </section>\n        </main>\n    )\n}\n\nexport default Main","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__text\"> © 2020 Around The U.S.</p>\n        </footer>\n    )\n}\n\nexport default Footer","function Input(props) {\n    const {type,placeholder,name,min,max,value,error,onChange} = props\n    return (\n      <>\n        <input \n            type={type} \n            className={`popup__field ${error && 'popup__field_border_red'}`} \n            placeholder={placeholder} \n            name={name} \n            autoComplete=\"off\" \n            spellCheck=\"false\"\n            minLength={min}\n            maxLength={max}\n            value={value}\n            onChange={onChange}\n        />\n        <span className=\"popup__error\">{error}</span>\n      </>\n    )\n}\n\nexport default Input","import Input from './Input'\n\nfunction PopupWithForm(props) {\n    const {name,title,isOpen,onClose,submitText,inputs,submit,field,error,onChange,submitButtonState,refButton} = props;\n    return (\n      <div \n        className={`popup popup_${name} ${isOpen && 'visible'}`} \n        onClick={onClose}\n      >\n          <form action=\"#\" className=\"popup__form\" name={name} noValidate>\n              <button className=\"popup__close\" aria-label=\"close-button\" type=\"button\"></button>\n              <h3 className=\"popup__header\">{title}</h3>\n              {inputs && inputs.map(([type,placeholder,name,min,max],i) => (\n                <Input \n                  key={i} \n                  type={type} \n                  placeholder={placeholder} \n                  name={name}\n                  min={min}\n                  max={max}\n                  value={field[name] || ''}\n                  error={error[name]}\n                  onChange={onChange}\n                />\n              ))}\n              <button \n                  type=\"submit\" \n                  className={`popup__submit active ${submitButtonState && 'inactive'}`} \n                  aria-label=\"submit-button\"\n                  onClick={submit}\n                  ref={refButton}\n                  disabled={submitButtonState}\n              >\n                    {isOpen && submitText}\n              </button>\n          </form>\n      </div>\n    )\n}\n\nexport default PopupWithForm","import { useState, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({avatar: ''});\r\n        setErrors({})\r\n    },[isOpen]);\r\n\r\n    function handleChange(e) {\r\n        setFields({[e.target.name]: e.target.value.trim() && e.target.value});\r\n        setErrors({[e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n    return (\r\n        <PopupWithForm \r\n            title='Change profile picture' \r\n            name='profile-photo' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['url','Image link','avatar']]}\r\n            submit={handleSubmit}\r\n            submitText='Save'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import { useState, useContext, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const user = useContext(CurrentUserContext);\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({\r\n            name: user?.name,\r\n            about: user?.about\r\n        })\r\n    },[user])\r\n\r\n    function handleChange(e) {\r\n      setFields({...fields, [e.target.name]: e.target.value.trim() && e.target.value});\r\n      setErrors({...errors, [e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='Edit profile' \r\n            name='profile-info' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['text','Name','name',2,40],['text','About me','about',2,200]]}\r\n            submit={handleSubmit}\r\n            submitText='Save'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import {useRef, useEffect} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction DeletePlacePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const activeButton = useRef();\r\n\r\n    useEffect(() => isOpen && activeButton.current.focus(),[isOpen])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit();\r\n    }\r\n    return (\r\n        <PopupWithForm \r\n            title='Are you sure?' \r\n            name='delete' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitText='Yes'\r\n            submit={handleSubmit}\r\n            refButton={activeButton}\r\n        />\r\n    )\r\n}\r\n\r\nexport default DeletePlacePopup","import { useState, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n    const {isOpen,onClose,submit} = props;\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        setFields({\r\n            name: '',\r\n            link: ''\r\n        });\r\n        setErrors({});\r\n    },[isOpen]);\r\n\r\n    function handleChange(e) {\r\n        setFields({...fields, [e.target.name]: e.target.value.trim() && e.target.value});\r\n        setErrors({...errors, [e.target.name]: e.target.validationMessage});\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError = Object.values(errors).some(error => error !== '');\r\n        return isError || !isField\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        e.target.textContent = 'Saving...';\r\n        submit(fields);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title='New place' \r\n            name='card' \r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            inputs={[['text','Title','name',2,30],['url','Image link','link']]}\r\n            submit={handleSubmit}\r\n            submitText='Create'\r\n            submitButtonState={setButtonState()}\r\n            field={fields}\r\n            error={errors}\r\n            onChange={handleChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","function ImagePopup(props) {\n    const {isOpen, card, onClose, onClick} = props;\n\n    return (\n        <figure className={`popup popup_figure ${isOpen ? 'visible' : null}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <img \n                    src={card && card.link} \n                    draggable=\"false\" \n                    alt=\"popup image\" \n                    className=\"popup__image\" \n                    onClick={onClick}\n                />\n                <p className=\"popup__caption\">{card.name}</p>\n                <button className=\"popup__close popup__close_fig\" aria-label=\"close-button\" type=\"button\" title=\"close\"/>\n            </div>\n        </figure>\n    )\n}\n\nexport default ImagePopup","class Api {\n    constructor({baseUrl,options}) {\n        this._baseUrl = baseUrl;\n        this._options = options;\n    }\n\n    async queryCards({query = '',method='GET',body = null}) {\n        this._options = {...this._options,method,body: body && JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/cards/${query}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async getUser() {\n        const res = await fetch(`${this._baseUrl}/users/me`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async updateProfile({avatar = '',method = 'PATCH',body}) {\n        this._options = {...this._options,method,body: JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/users/me/${avatar}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n}\n\nexport default new Api({\n    baseUrl:'https://around.nomoreparties.co/v1/group-7',\n    options: {\n      headers: {\n        authorization: '53ef19e5-74f0-45cf-b7f3-6d5e1b396f52',\n        \"Content-Type\": \"application/json\",\n      }\n    }\n  })","import {useState,useEffect} from 'react'\nimport logo from '../images/Vectorlogo.svg'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport DeletePlacePopup from './DeletePlacePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/api'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n    const [currentUser,setCurrentUser] = useState();\n    const [cards,setCards] = useState([]);\n    const [avatarPopup,setAvatarPopup] = useState(false);\n    const [profilePopup,setProfilePopup] = useState(false);\n    const [cardPopup,setCardPopup] = useState(false);\n    const [deletePopup,setDeletePopup] = useState(false);\n    const [imagePopup,setImagePopup] = useState(false);\n    const [selectedCard,setSelectedCard] = useState({});\n\n    useEffect(() => {\n        Promise.all([api.getUser(),api.queryCards({})])\n               .then(data => {\n                   const [user,initialCards] = data;\n                   setCurrentUser(user)\n                   setCards(initialCards)\n               })\n               .catch(err => console.log(err))\n    },[])\n\n    function handleEditAvatarClick() {\n        setAvatarPopup(true)\n    }\n    function handleEditProfileClick() {\n        setProfilePopup(true)\n    }\n    function handleAddPlaceClick() {\n        setCardPopup(true)\n    }\n    function handleCardClick(card) {\n        setImagePopup(true)\n        setSelectedCard(card)\n    }\n    function handleCardDelete(card) {\n        setDeletePopup(true);\n        setSelectedCard(card);\n    }\n    function handleImagePopupClick() {\n        let index = cards.indexOf(selectedCard) + 1;\n        if(index === cards.length) index = 0; \n        setSelectedCard(cards[index])\n    }\n    function handleUserAvatarUpdate(field) {\n        api.updateProfile({ avatar: 'avatar', body: field })\n            .then(user => setCurrentUser(user))\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleUserInfoUpdate(field) {\n        api.updateProfile({body: field})\n            .then(user => setCurrentUser(user))\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleAddPlaceSubmit(field) {\n        api.queryCards({ method: 'POST', body: field })\n            .then(place => {\n            setCards([place,...cards]);\n            })\n            .catch(err => console.log(err))\n            .finally(() => closeAllPopups())\n    }\n    function handleDeleteCardSubmit(card = selectedCard) {\n        const newCards = cards.filter(item => item._id !== card._id);\n            api.queryCards({query: card._id, method: 'DELETE'})\n               .then(() => setCards(newCards))\n               .catch(err => {\n                  console.log(err);\n                  setCards(cards);\n                })\n               .finally(() => closeAllPopups())\n    }\n    function handleLikeClick(card) {\n        const method = card.likes.some(data => data._id === currentUser._id) ? 'DELETE' : 'PUT';\n        const newLike = method === 'DELETE' ? card.likes.filter(item => item._id !== currentUser._id) : [...card.likes, {_id: currentUser._id}];\n        const newCards = cards.map(item => card._id === item._id ? {...item,likes: newLike} : item);\n        setCards(newCards);\n        api.queryCards({ query: `likes/${card._id}`, method })\n            .catch(err => {\n                console.log(err);\n                setCards(cards)\n            })\n    }\n    function handleUnloadedImage(card) {\n        handleDeleteCardSubmit(card);\n    }\n    function closeAllPopups() {\n            setAvatarPopup(false);\n            setProfilePopup(false);\n            setCardPopup(false);\n            setDeletePopup(false);\n            setImagePopup(false);\n    }\n    function handleOverlayAndCrossClick(e) {\n        if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) closeAllPopups();\n    }\n\n  return (\n    <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n            <Header logo={logo} />\n            <Main \n                cards={cards}\n                onEditAvatar={handleEditAvatarClick}  \n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardDelete={handleCardDelete}\n                onCardLike={handleLikeClick}\n                onUnLoadedImage={handleUnloadedImage}\n                onUnloadedAvatar={handleUserAvatarUpdate}\n            />\n            <Footer />\n            <EditAvatarPopup \n                isOpen={avatarPopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleUserAvatarUpdate} \n            />\n            <EditProfilePopup \n                isOpen={profilePopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleUserInfoUpdate} \n            />\n            <AddPlacePopup \n                isOpen={cardPopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleAddPlaceSubmit} \n            />\n            <DeletePlacePopup \n                isOpen={deletePopup} \n                onClose={handleOverlayAndCrossClick} \n                submit={handleDeleteCardSubmit} \n            />\n            <ImagePopup \n                isOpen={imagePopup}\n                card={selectedCard}\n                onClose={handleOverlayAndCrossClick}\n                onClick={handleImagePopupClick}\n            />\n        </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}