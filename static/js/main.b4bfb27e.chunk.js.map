{"version":3,"sources":["images/Vectorlogo.svg","components/Header.js","components/Card.js","components/Cards.js","utils/api.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","draggable","src","logo","alt","Card","card","onCardClick","handleReady","onCardDelete","isOwner","isLiked","onCardLike","data-id","_id","link","onClick","onLoad","name","type","aria-label","title","likes","length","e","hidden","Cards","cards","useState","isReady","setIsReady","map","baseUrl","options","this","_baseUrl","_options","query","method","body","JSON","stringify","fetch","res","ok","json","Promise","reject","status","statusText","url","avatar","headers","authorization","Main","onEditAvatar","onEditProfile","onAddPlace","avatarInfo","profileInfo","cardInfo","reset","userId","setUserId","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","setCards","isLoaded","setIsLoaded","Liked","setLiked","some","like","useEffect","all","api","getUser","queryCards","then","data","user","initialCards","about","catch","err","console","log","newCards","newLikes","filter","updateProfile","owner","Footer","Input","placeholder","min","max","value","error","handleChange","autoComplete","spellCheck","minLength","maxLength","onChange","PopupWithForm","isOpen","onClose","submitText","inputs","submit","fields","setFields","errors","setErrors","buttonText","setEButtonText","target","trim","validationMessage","setButtonState","isField","Object","values","every","field","isError","fieldsObj","errorObj","forEach","action","noValidate","onSubmit","i","disabled","ImagePopup","last","setLast","App","avatarPopup","setAvatarPopup","profilePopup","setProfilePopup","cardPopup","setCardPopup","selectedCard","setSelectedCard","deleteCard","setDeleteCard","setProfileInfo","handleOverlayAndCrossClick","classList","contains","preventDefault","state","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4bfb27e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.4e8e0a1d.svg\";","function Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img draggable=\"false\" src={props.logo} alt=\"logo\" className=\"logo\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","function Card(props) {\n    const {card,onCardClick,handleReady,onCardDelete,isOwner,isLiked,onCardLike} = props;\n    return (\n        <div className=\"card\" data-id={card._id}>\n            <img \n                src={card.link} \n                draggable=\"false\" \n                alt=\"card image\" \n                className=\"card__image\" \n                onClick={() => onCardClick(card)}\n                onLoad={handleReady}\n            />\n            <div className=\"card__details\">\n                <h2 className=\"card__text\">{card.name}</h2>\n                <button \n                    className={`card__icon-heart ${isLiked(card) && 'card__icon-heart_black animate'}`}\n                    type=\"button\" \n                    aria-label=\"heart-button\" \n                    title=\"like\"\n                    onClick={() => onCardLike(card)}\n                />\n                <span className=\"card__likes\">{card.likes.length}</span>\n            </div>\n            <button \n                className=\"card__icon-delete\" \n                type=\"button\" \n                aria-label=\"trash-button\" \n                title=\"delete\"\n                onClick={(e) => onCardDelete(card)}\n                hidden={!isOwner(card)}\n            />\n        </div>\n    )\n}\n\nexport default Card","import {useState} from 'react'\nimport Card from './Card'\n\nfunction Cards(props) {\n    const {cards,onCardClick,onCardDelete,isOwner,isLiked,onCardLike} = props;\n    const [isReady,setIsReady] = useState(0);\n\n    function handleReady() {\n        if(isReady === cards.length) return setIsReady(1);\n        setIsReady(isReady+1);\n    }\n\n    function show() {\n        return isReady === cards.length;\n    }\n\n    return (\n        <section className={`cards ${show() ? null : 'hidden'}`}>\n            {cards.map(card => ( \n                <Card \n                    key={card._id} \n                    card={card} \n                    onCardClick={onCardClick} \n                    handleReady={handleReady} \n                    onCardDelete={onCardDelete} \n                    isOwner={isOwner}\n                    isLiked={isLiked}\n                    onCardLike={onCardLike}\n                />\n            ))}\n        </section>\n    )\n}\n\nexport default Cards","class Api {\n    constructor({baseUrl,options}) {\n        this._baseUrl = baseUrl;\n        this._options = options;\n    }\n\n    async queryCards({query = '',method='GET',body = null}) {\n        this._options = {...this._options,method,body: body && JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/cards/${query}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async getUser() {\n        const res = await fetch(`${this._baseUrl}/users/me`,{...this._options,method: 'GET'});\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async updateProfile({avatar = '',method = 'PATCH',body}) {\n        this._options = {...this._options,method,body: JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/users/me/${avatar}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n}\n\nexport default new Api({\n    baseUrl:'https://around.nomoreparties.co/v1/group-7',\n    options: {\n      headers: {\n        authorization: '53ef19e5-74f0-45cf-b7f3-6d5e1b396f52',\n        \"Content-Type\": \"application/json\",\n      }\n    }\n  })","import {useState,useEffect} from 'react'\nimport Cards from './Cards'\nimport api from '../utils/api'\n\nfunction Main(props) {\n    const {onEditAvatar,onEditProfile,onAddPlace,onCardClick,onCardDelete,avatarInfo,profileInfo,cardInfo,reset} = props;\n    const [userId,setUserId] = useState('')\n    const [userName,setUserName] = useState('')\n    const [userDescription,setUserDescription] = useState('')\n    const [userAvatar,setUserAvatar] = useState('')\n    const [cards,setCards] = useState([])\n    const [isLoaded,setIsLoaded] = useState(false)\n    const [Liked,setLiked] = useState(false)\n    \n    useEffect(() => {\n        Promise.all([api.getUser(),api.queryCards({})])\n               .then(data => {\n                   const [user,initialCards] = data;\n                   setUserId(user._id);\n                   setUserName(user.name);\n                   setUserDescription(user.about);\n                   setUserAvatar(user.avatar);\n                   setCards(initialCards)\n               })\n               .catch(err => console.log(err))\n    },[])\n\n    useEffect(() => {\n        if(Liked) {\n            const method = isLiked(Liked) ? 'DELETE' : 'PUT';\n            const options = {\n                query: `likes/${Liked._id}`,\n                method\n            }; \n            const newCards = cards.map(card => {\n                const newLikes =  method === 'PUT' ? [...Liked.likes,{_id: userId}] : Liked.likes.filter(like => like._id !== userId)\n                if(Liked._id === card._id) return {...card,likes: newLikes}\n                return card\n            });\n                  setCards(newCards)\n            api.queryCards(options)\n            //    .then(res => {\n            //        const newCards = cards.map(card => card._id === res._id ? res : card);\n            //        setCards(newCards)\n            //    })\n               .catch(err => {\n                   console.log(err);\n                   setCards(cards)\n                })\n        }\n    },[Liked])\n\n    useEffect(() => {\n        if(profileInfo) {\n            const options = {body: profileInfo};\n            api.updateProfile(options)\n           .then(user => {\n            setUserName(user.name);\n            setUserDescription(user.about);\n            onEditProfile();\n           })\n           .catch(err => console.log(err));\n        }\n    },[avatarInfo,profileInfo,cardInfo])\n\n\n    function handleCardLike(card) {\n        setLiked(card)\n    }\n\n    function isReady() {\n        return userName && userDescription && userAvatar && isLoaded && true\n    }\n\n    function isOwner(card) {\n        return card.owner._id === userId\n    }\n\n    function isLiked(card) {\n        return card.likes.some(like => like._id === userId)\n    }\n\n    return (\n        <main>\n            <section className={`profile ${isReady() ? null : 'hidden'}`} >\n                <div className=\"profile__wrapper\" onClick={onEditAvatar}>\n                    <img \n                        src={userAvatar} \n                        draggable=\"false\"  \n                        alt=\"profile image\" \n                        className=\"profile__image\" \n                        onLoad={() => setIsLoaded(true)}\n                    />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{userName}</h1>\n                    <p className=\"profile__text\">{userDescription}</p>\n                    <button \n                        className=\"profile__edit-button\" \n                        aria-label=\"edit-button\" \n                        type=\"button\" \n                        onClick={onEditProfile}\n                    />\n                </div>\n                <button className=\"profile__add-button\" aria-label=\"close-button\" type=\"button\" onClick={onAddPlace} />\n            </section>\n            <Cards \n                cards={cards} \n                userId={userId} \n                isOwner={isOwner}\n                isLiked={isLiked}\n                onCardClick={onCardClick} \n                onCardDelete={onCardDelete}\n                onCardLike={handleCardLike}\n            />\n        </main>\n    )\n}\n\nexport default Main","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\"> Â© 2020 Around The U.S.</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","function Input(props) {\r\n    const {type,placeholder,name,min,max,value,error,handleChange} = props\r\n    return (\r\n      <>\r\n        <input \r\n            type={type} \r\n            className= {`popup__field ${error && 'popup__field_border_red'}`}\r\n            placeholder={placeholder} \r\n            name={name} \r\n            autoComplete=\"off\" \r\n            spellCheck=\"false\"\r\n            minLength={min}\r\n            maxLength={max}\r\n            value={value}\r\n            onChange={e => handleChange(e,name)}\r\n        />\r\n        <span className=\"popup__error\">{error}</span>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Input","import {useState,useEffect} from 'react'\r\nimport Input from './Input'\r\n\r\nfunction PopupWithForm(props) {\r\n    const {name,title,isOpen,onClose,submitText,inputs,submit} = props;\r\n\r\n    const [fields,setFields] = useState({});\r\n    const [errors,setErrors] = useState({});\r\n    const [buttonText,setEButtonText] = useState(submitText);\r\n\r\n    useEffect(() => {\r\n      const fieldsObj = {};\r\n      const errorObj = {}\r\n      inputs?.forEach(({name}) => {\r\n        fieldsObj[name] = '';\r\n        errorObj[name] = '';\r\n      })\r\n      setFields(fieldsObj);\r\n      setErrors(errorObj);\r\n      setEButtonText(submitText);\r\n      if(!isOpen && inputs) {\r\n        const reset = {}\r\n        inputs.forEach(({name}) => reset[name] = '');\r\n        setFields(reset);\r\n      }\r\n    },[isOpen])\r\n\r\n    function handleChange(e,name) {\r\n      setFields({... fields, [name]: e.target.value.trim() ? e.target.value : ''})\r\n      setErrors({...errors, [name]: e.target.validationMessage})\r\n    }\r\n\r\n    function setButtonState() {\r\n        const isField = Object.values(fields).every(field => field !== '');\r\n        const isError =  Object.values(errors).some(error => error !== '');\r\n        return !isField || isError;\r\n    }\r\n    \r\n    return (\r\n        <div \r\n          className={`popup popup_${name} \r\n          ${isOpen && 'visible'}`} \r\n          onClick={onClose}\r\n        >\r\n            <form \r\n              action=\"#\" \r\n              className=\"popup__form\"\r\n              name={name}\r\n              noValidate\r\n              onSubmit={e => submit(e,fields)}\r\n            >\r\n                <button className=\"popup__close\" aria-label=\"close-button\" type=\"button\"></button>\r\n                <h3 className=\"popup__header\">{title}</h3>\r\n                {inputs && inputs.map(({type,placeholder,name,min,max},i) => (\r\n                  <Input \r\n                    key={i} \r\n                    type={type} \r\n                    placeholder={placeholder} \r\n                    name={name}\r\n                    min={min}\r\n                    max={max}\r\n                    value={fields[name] || ''}\r\n                    error={errors[name] || ''}\r\n                    handleChange={handleChange}\r\n                  />\r\n                ))}\r\n                <button \r\n                  type=\"submit\" \r\n                  className={`popup__submit ${setButtonState() && 'inactive'}`}\r\n                  aria-label=\"submit-button\"\r\n                  disabled={setButtonState()}\r\n                  onClick={() => setEButtonText('Saving...')}\r\n                >\r\n                    {buttonText}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import {useState,useEffect} from 'react'\nfunction ImagePopup(props) {\n    const [last,setLast] = useState('');\n    const {card,onClose} = props;\n    \n    useEffect(() => card ? setLast(card) : null)\n\n    return (\n        <figure className={`popup popup_figure ${card ? 'visible' : null}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <img src={last && last.link} draggable=\"false\" alt=\"popup image\" className=\"popup__image\" />\n                <p className=\"popup__caption\">{last.name}</p>\n                <button className=\"popup__close popup__close_fig\" aria-label=\"close-button\" type=\"button\" title=\"close\"/>\n            </div>\n        </figure>\n    )\n}\n\nexport default ImagePopup","import {useState} from 'react'\nimport logo from '../images/Vectorlogo.svg'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\n\nfunction App() {\n    const [avatarPopup,setAvatarPopup] = useState(false);\n    const [profilePopup,setProfilePopup] = useState(false);\n    const [cardPopup,setCardPopup] = useState(false);\n    const [selectedCard,setSelectedCard] = useState('');\n    const [deleteCard,setDeleteCard] = useState('');\n    const [avatarInfo,setAvatarInfo] = useState(null)\n    const [profileInfo,setProfileInfo] = useState(null)\n    const [cardInfo,setCardInfo] = useState(null)\n\n    function handleEditAvatarClick() {\n        setAvatarPopup(!avatarPopup)\n    }\n    function handleEditProfileClick() {\n        setProfilePopup(!profilePopup)\n    }\n    function submitProfileInfo(e,fields) {\n        e.preventDefault();\n        setProfileInfo(fields);\n    }\n    function handleAddPlaceClick() {\n        setCardPopup(!cardPopup)\n    }\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n    function handleCardDelete(card) {\n        setDeleteCard(card)\n    }\n    function closeAllPopups() {\n            setAvatarPopup(false);\n            setProfilePopup(false);\n            setCardPopup(false);\n            setSelectedCard('');\n            setDeleteCard('');\n    }\n    function handleOverlayAndCrossClick(e) {\n        if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) {\n            closeAllPopups()\n        }\n    }\n\n  return (\n    <div className=\"page\">\n        <Header logo={logo} />\n        <Main \n            onEditAvatar={handleEditAvatarClick}  \n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            avatarInfo={avatarInfo}\n            profileInfo={profileInfo}\n            cardInfo={cardInfo}\n        />\n        <Footer />\n        <PopupWithForm \n            title='Change profile picture' \n            name='profile-photo' \n            isOpen={avatarPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'url',placeholder:'Image link',name:'profile-image'}]}\n            submitText='Save'\n        />\n        <PopupWithForm \n            title='Edit profile' \n            name='profile-info' \n            isOpen={profilePopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Name',name:'name',min:2,max:40},{type:'text',placeholder:'About me',name:'about',min:2,max:200}]}\n            submitText='Save'\n            submit={submitProfileInfo}\n        />\n        <PopupWithForm \n            title='New place' \n            name='card' \n            isOpen={cardPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Title',name:'title',min:2,max:30},{type:'url',placeholder:'Image link',name:'image'}]}\n            submitText='Create'\n        />\n        <PopupWithForm \n            title='Are you sure?' \n            name='delete' \n            isOpen={deleteCard}\n            onClose={handleOverlayAndCrossClick}\n            submitText='Yes'\n            state='active'\n        />\n        <ImagePopup \n            card={selectedCard}\n            onClose={handleOverlayAndCrossClick}\n        />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}