{"version":3,"sources":["images/Vectorlogo.svg","components/Header.js","components/Card.js","components/Cards.js","utils/api.js","components/Main.js","components/Footer.js","components/Input.js","components/PopupWithForm.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","draggable","src","logo","alt","Card","card","onCardClick","handleReady","onCardDelete","isOwner","isLiked","onCardLike","onImageFailure","data-id","_id","link","onClick","onLoad","onError","name","type","aria-label","title","likes","length","hidden","Cards","cards","useState","isReady","setIsReady","map","i","baseUrl","options","this","_baseUrl","_options","query","method","body","JSON","stringify","fetch","res","ok","json","Promise","reject","status","statusText","url","avatar","headers","authorization","Main","onEditAvatar","onEditProfile","onAddPlace","cardsInfo","userId","setUserId","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","originalAvatar","setOriginalAvatar","setCards","isLoaded","setIsLoaded","apiAvatar","fields","api","updateProfile","then","catch","err","console","log","apiRemove","newCards","filter","cardArr","queryCards","some","like","useEffect","all","getUser","data","user","initialCards","about","place","owner","liked","newLikes","Footer","Input","placeholder","min","max","value","error","handleChange","autoComplete","spellCheck","minLength","maxLength","onChange","e","PopupWithForm","isOpen","onClose","submitText","inputs","form","submit","useRef","setFields","errors","setErrors","buttonText","setButtonText","target","trim","validationMessage","setButtonState","isField","Object","values","every","field","isError","fieldsObj","errorObj","forEach","reset","current","focus","action","noValidate","onSubmit","preventDefault","disabled","ref","ImagePopup","last","setLast","imagePopupClick","App","avatarPopup","setAvatarPopup","profilePopup","setProfilePopup","cardPopup","setCardPopup","deletePopup","setDeletePopup","selectedCard","setSelectedCard","handleOverlayAndCrossClick","classList","contains","isSubmit","index","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cca8300a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.4e8e0a1d.svg\";","function Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img draggable=\"false\" src={props.logo} alt=\"logo\" className=\"logo\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","function Card(props) {\n    const {card,onCardClick,handleReady,onCardDelete,isOwner,isLiked,onCardLike,onImageFailure} = props;\n    return (\n        <div className=\"card\" data-id={card._id}>\n            <img \n                src={card.link} \n                draggable=\"false\" \n                alt=\"card image\" \n                className=\"card__image\" \n                onClick={() => onCardClick(card)}\n                onLoad={handleReady}\n                onError={() => onImageFailure(card)}\n            />\n            <div className=\"card__details\">\n                <h2 className=\"card__text\">{card.name}</h2>\n                <button \n                    className={`card__icon-heart ${isLiked(card) && 'card__icon-heart_black animate'}`}\n                    type=\"button\" \n                    aria-label=\"heart-button\" \n                    title=\"like\"\n                    onClick={() => onCardLike(card)}\n                />\n                <span className=\"card__likes\">{card.likes.length}</span>\n            </div>\n            <button \n                className=\"card__icon-delete\" \n                type=\"button\" \n                aria-label=\"trash-button\" \n                title=\"delete\"\n                onClick={() => onCardDelete(card)}\n                hidden={!isOwner(card)}\n            />\n        </div>\n    )\n}\n\nexport default Card","import {useState} from 'react'\nimport Card from './Card'\n\nfunction Cards(props) {\n    const {cards,onCardClick,onCardDelete,isOwner,isLiked,onCardLike,onImageFailure} = props;\n    const [isReady,setIsReady] = useState(0);\n\n    function handleReady() {\n        setIsReady(isReady+1);\n    }\n\n    function show() {\n        if(cards.length < 7) return isReady === cards.length\n        return isReady >= 7;\n    }\n\n    return (\n        <section className={`cards ${!show() && 'hidden'}`}>\n            {cards.map((card,i) => ( \n                <Card \n                    key={card._id} \n                    card={card} \n                    onCardClick={onCardClick} \n                    handleReady={i<7 ? handleReady : null} \n                    onCardDelete={onCardDelete} \n                    isOwner={isOwner}\n                    isLiked={isLiked}\n                    onCardLike={onCardLike}\n                    onImageFailure={onImageFailure}\n                />\n            ))}\n        </section>\n    )\n}\n\nexport default Cards","class Api {\n    constructor({baseUrl,options}) {\n        this._baseUrl = baseUrl;\n        this._options = options;\n    }\n\n    async queryCards({query = '',method='GET',body = null}) {\n        this._options = {...this._options,method,body: body && JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/cards/${query}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async getUser() {\n        const res = await fetch(`${this._baseUrl}/users/me`,{...this._options,method: 'GET'});\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n\n    async updateProfile({avatar = '',method = 'PATCH',body}) {\n        this._options = {...this._options,method,body: JSON.stringify(body)};\n        const res = await fetch(`${this._baseUrl}/users/me/${avatar}`,this._options);\n        return res.ok ? res.json() : Promise.reject(`Error: ${res.status} - ${res.statusText} - ${res.url}`);\n    }\n}\n\nexport default new Api({\n    baseUrl:'https://around.nomoreparties.co/v1/group-7',\n    options: {\n      headers: {\n        authorization: '53ef19e5-74f0-45cf-b7f3-6d5e1b396f52',\n        \"Content-Type\": \"application/json\",\n      }\n    }\n  })","import {useState,useEffect} from 'react'\nimport Cards from './Cards'\nimport api from '../utils/api'\n\nfunction Main(props) {\n    const {onEditAvatar,\n           onEditProfile,\n           onAddPlace,\n           onCardClick,\n           onCardDelete,\n           cardsInfo} = props;\n    const [userId,setUserId] = useState('')\n    const [userName,setUserName] = useState('')\n    const [userDescription,setUserDescription] = useState('')\n    const [userAvatar,setUserAvatar] = useState('')\n    const [originalAvatar,setOriginalAvatar] = useState('')\n    const [cards,setCards] = useState([])\n    const [isLoaded,setIsLoaded] = useState(false)\n    \n    useEffect(() => {\n        Promise.all([api.getUser(),api.queryCards({})])\n               .then(data => {\n                   const [user,initialCards] = data;\n                   setUserId(user._id);\n                   setUserName(user.name);\n                   setUserDescription(user.about);\n                   setUserAvatar(user.avatar);\n                   setCards(initialCards)\n                   cardsInfo(initialCards)\n               })\n               .catch(err => console.log(err))\n    },[])\n\n    function apiAvatar(fields) {\n        if(fields.avatar === userAvatar) return onEditAvatar(false);\n        if(fields.avatar !== userAvatar) setIsLoaded(false);\n        const options = {\n            avatar: 'avatar',\n            body: fields\n        };\n        api.updateProfile(options)\n        .then(({avatar}) => {\n            setUserAvatar(avatar);\n            isLoaded && onEditAvatar(false);\n        })\n        .catch(err => console.log(err));\n    }\n    function apiRemove(card) {\n        const newCards = cards.filter(cardArr => cardArr._id !== card._id);\n            setCards(newCards);\n            const options = {\n            query: card._id,\n            method: 'DELETE'\n            };\n            api.queryCards(options)\n               .then(() => onCardDelete(false))\n               .catch(err => {\n                    console.log(err);\n                    setCards(cards);\n                    onCardDelete(false);\n                });\n    }\n\n    function handleEditAvatar() {\n        onEditAvatar(apiAvatar)\n    }\n    function handleEditProfile() {\n        onEditProfile((fields) => {\n            const options = {body: fields};\n            api.updateProfile(options)\n               .then(user => {\n                        setUserName(user.name);\n                        setUserDescription(user.about);\n                        onEditProfile(false);\n                })\n               .catch(err => console.log(err));\n        })\n    }\n    function handleAddPlace() {\n        onAddPlace((fields) => {\n            const options = {\n                method: 'POST',\n                body: fields\n            };\n            api.queryCards(options)\n               .then(place => {\n                    setCards([place,...cards]);\n                    onAddPlace(false);\n                })\n               .catch(err => console.log(err));\n        })\n    }\n\n    function handleCardDelete(card) {\n        onCardDelete(() => apiRemove(card));\n    }\n\n    function handleCardLike(liked) {\n        const method = isLiked(liked) ? 'DELETE' : 'PUT';\n            const options = {\n                query: `likes/${liked._id}`,\n                method\n            }; \n            api.queryCards(options)\n               .catch(err => {\n                   console.log(err);\n                   setCards(cards)\n                })\n            const newCards = cards.map(card => {\n                const newLikes =  method === 'PUT' ? [...liked.likes,{_id: userId}] : liked.likes.filter(like => like._id !== userId)\n                if(liked._id === card._id) return {...card,likes: newLikes}\n                return card\n            });\n            setCards(newCards) \n    }\n\n    function handleLoadedAvatar() {\n        setIsLoaded(true);\n        setOriginalAvatar(userAvatar);\n    }\n\n    function handleUnloadedAvatar() {\n        if(!originalAvatar) return;\n        apiAvatar({avatar: originalAvatar});\n    }\n\n    function profileShow() {\n        return userName && userDescription && userAvatar && isLoaded && true\n    }\n\n    function isOwner(card) {\n        return card.owner._id === userId\n    }\n\n    function isLiked(card) {\n        return card.likes.some(like => like._id === userId)\n    }\n\n    return (\n        <main>\n            <section className={`profile ${!profileShow() && 'hidden'}`} >\n                <div className=\"profile__wrapper\" onClick={handleEditAvatar}>\n                    <img \n                        src={userAvatar} \n                        draggable=\"false\"  \n                        alt=\"profile image\" \n                        className=\"profile__image\" \n                        onLoad={handleLoadedAvatar}\n                        onError={handleUnloadedAvatar}\n                    />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{userName}</h1>\n                    <p className=\"profile__text\">{userDescription}</p>\n                    <button \n                        className=\"profile__edit-button\" \n                        aria-label=\"edit-button\" \n                        type=\"button\" \n                        onClick={handleEditProfile}\n                    />\n                </div>\n                <button \n                    className=\"profile__add-button\" \n                    aria-label=\"close-button\" \n                    type=\"button\" \n                    onClick={handleAddPlace}\n                />\n            </section>\n            <Cards \n                cards={cards} \n                isOwner={isOwner}\n                isLiked={isLiked}\n                onCardClick={onCardClick} \n                onCardDelete={handleCardDelete}\n                onCardLike={handleCardLike}\n                onImageFailure={apiRemove}\n            />\n        </main>\n    )\n}\n\nexport default Main","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\"> © 2020 Around The U.S.</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","function Input(props) {\n    const {type,placeholder,name,min,max,value,error,handleChange} = props\n    return (\n      <>\n        <input \n            type={type} \n            className= {`popup__field ${error && 'popup__field_border_red'}`}\n            placeholder={placeholder} \n            name={name} \n            autoComplete=\"off\" \n            spellCheck=\"false\"\n            minLength={min}\n            maxLength={max}\n            value={value}\n            onChange={e => handleChange(e,name)}\n        />\n        <span className=\"popup__error\">{error}</span>\n      </>\n    )\n}\n\nexport default Input","import {useState,useEffect,useRef} from 'react'\nimport Input from './Input'\n\nfunction PopupWithForm(props) {\n    const {name,title,isOpen,onClose,submitText,inputs,submit} = props;\n\n    const form = useRef();\n    const [fields,setFields] = useState({});\n    const [errors,setErrors] = useState({});\n    const [buttonText,setButtonText] = useState(submitText);\n\n    useEffect(() => {\n      if(isOpen) {\n        const fieldsObj = {};\n        const errorObj = {}\n        inputs?.forEach(({name}) => {\n          fieldsObj[name] = '';\n          errorObj[name] = '';\n        })\n        setFields(fieldsObj);\n        setErrors(errorObj);\n        setButtonText(submitText);\n        if(!isOpen && inputs) {\n          const reset = {}\n          inputs.forEach(({name}) => reset[name] = '');\n          setFields(reset);\n        }\n        form.current.focus();\n      }\n    },[isOpen])\n\n    function handleChange(e,name) {\n      setFields({... fields, [name]: e.target.value.trim() ? e.target.value : ''})\n      setErrors({...errors, [name]: e.target.validationMessage})\n    }\n\n    function handleSubmit(e) {\n      e.preventDefault();\n      isOpen(fields);\n      setButtonText('Saving...')\n    }\n\n    function setButtonState() {\n        const isField = Object.values(fields).every(field => field !== '');\n        const isError =  Object.values(errors).some(error => error !== '');\n        return !isField || isError;\n    }\n    \n    return (\n        <div \n          className={`popup popup_${name} ${isOpen && 'visible'}`} \n          onClick={onClose}\n        >\n            <form \n              action=\"#\" \n              className=\"popup__form\"\n              name={name}\n              noValidate\n              onSubmit={handleSubmit}\n            >\n                <button className=\"popup__close\" aria-label=\"close-button\" type=\"button\" />\n                <h3 className=\"popup__header\">{title}</h3>\n                {inputs && inputs.map(({type,placeholder,name,min,max},i) => (\n                  <Input \n                    key={i} \n                    type={type} \n                    placeholder={placeholder} \n                    name={name}\n                    min={min}\n                    max={max}\n                    value={fields[name] || ''}\n                    error={errors[name] || ''}\n                    handleChange={handleChange}\n                  />\n                ))}\n                <button \n                  type=\"submit\" \n                  className={`popup__submit ${setButtonState() && 'inactive'}`}\n                  aria-label=\"submit-button\"\n                  disabled={setButtonState()}\n                  ref={form}\n                >\n                    {buttonText}\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default PopupWithForm","import {useState,useEffect} from 'react'\nfunction ImagePopup(props) {\n    const [last,setLast] = useState('');\n    const {card,onClose,imagePopupClick} = props;\n    \n    useEffect(() => card ? setLast(card) : null);\n    \n\n\n    return (\n        <figure className={`popup popup_figure ${card ? 'visible' : null}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <img \n                    src={last && last.link} \n                    draggable=\"false\" \n                    alt=\"popup image\" \n                    className=\"popup__image\" \n                    onClick={imagePopupClick}\n                />\n                <p className=\"popup__caption\">{last.name}</p>\n                <button className=\"popup__close popup__close_fig\" aria-label=\"close-button\" type=\"button\" title=\"close\"/>\n            </div>\n        </figure>\n    )\n}\n\nexport default ImagePopup","import {useState} from 'react'\nimport logo from '../images/Vectorlogo.svg'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\n\nfunction App() {\n    const [cards,setCards] = useState([]);\n    const [avatarPopup,setAvatarPopup] = useState(false);\n    const [profilePopup,setProfilePopup] = useState(false);\n    const [cardPopup,setCardPopup] = useState(false);\n    const [deletePopup,setDeletePopup] = useState(false);\n    const [selectedCard,setSelectedCard] = useState(null);\n\n    function handleEditAvatarClick(isSubmit) {\n        setAvatarPopup(() => isSubmit);\n    }\n    function handleEditProfileClick(isSubmit) {\n        setProfilePopup(() => isSubmit)\n    }\n    function handleAddPlaceClick(isSubmit) {\n        setCardPopup(() => isSubmit)\n    }\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n    function handleCardDelete(isSubmit) {\n        setDeletePopup(() => isSubmit);\n    }\n    function closeAllPopups() {\n            setAvatarPopup(false);\n            setProfilePopup(false);\n            setCardPopup(false);\n            setDeletePopup(false);\n            setSelectedCard(false);\n    }\n    function handleOverlayAndCrossClick(e) {\n        if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) {\n            closeAllPopups()\n        }\n    }\n    function handleImagePopupClick() {\n        const index = cards.indexOf(selectedCard) + 1;\n        if(index === cards.length) return setSelectedCard(cards[0])\n        setSelectedCard(cards[index])\n    }\n\n  return (\n    <div className=\"page\">\n        <Header logo={logo} />\n        <Main \n            onEditAvatar={handleEditAvatarClick}  \n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardDelete={handleCardDelete}\n            onCardClick={handleCardClick}\n            cardsInfo={setCards}\n        />\n        <Footer />\n        <PopupWithForm \n            title='Change profile picture' \n            name='avatar' \n            isOpen={avatarPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'url',placeholder:'Image link',name:'avatar'}]}\n            submitText='Save'\n        />\n        <PopupWithForm \n            title='Edit profile' \n            name='profile-info' \n            isOpen={profilePopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Name',name:'name',min:2,max:40},{type:'text',placeholder:'About me',name:'about',min:2,max:200}]}\n            submitText='Save'\n        />\n        <PopupWithForm \n            title='New place' \n            name='card' \n            isOpen={cardPopup}\n            onClose={handleOverlayAndCrossClick}\n            inputs={[{type:'text',placeholder:'Title',name:'name',min:2,max:30},{type:'url',placeholder:'Image link',name:'link'}]}\n            submitText='Create'\n        />\n        <PopupWithForm \n            title='Are you sure?' \n            name='delete' \n            isOpen={deletePopup}\n            onClose={handleOverlayAndCrossClick}\n            submitText='Yes'\n        />\n        <ImagePopup \n            card={selectedCard}\n            onClose={handleOverlayAndCrossClick}\n            imagePopupClick={handleImagePopupClick}\n        />\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}